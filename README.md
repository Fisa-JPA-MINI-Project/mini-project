# ğŸš€ Fisa JPA Mini Project

> JPA + JSP ê¸°ë°˜ **ì¶œê²° ê´€ë¦¬ ë¯¸ë‹ˆ í”„ë¡œì íŠ¸**

<table>
  <tr>
    <td align="center">
      <img src="https://github.com/yunkihong-dev.png" width="120" /><br/>
      <a href="https://github.com/yunkihong-dev">í™ìœ¤ê¸°</a>
    </td>
    <td align="center">
      <img src="https://github.com/hyewon8245.png" width="120" /><br/>
      <a href="https://github.com/hyewon8245">í™í˜œì›</a>
    </td>
    <td align="center">
      <img src="https://github.com/Gill010147.png" width="120" /><br/>
      <a href="https://github.com/Gill010147">í™©ë³‘ê¸¸</a>
    </td>
  </tr>
</table>


## ğŸ“ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **í•™ìƒë“¤ì˜ ì¶œì„ ì •ë³´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬**í•˜ê¸° ìœ„í•œ **JSP ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì´ë‹¤.
**í•™ìƒë“¤ì˜ ì¶œì„ ì •ë³´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬**í•˜ê¸° ìœ„í•œ **JSP ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì´ë‹¤.
Oracle ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ë™í•˜ì—¬ ì¶œì„ ë°ì´í„°ë¥¼ ì €ì¥ ë° ì¡°íšŒí•˜ê³ , ê´€ë¦¬ìê°€ ì¶œì„í˜„í™©ì„ ì§ê´€ì ìœ¼ë¡œ í™•ì¸í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆë„ë¡ UIì™€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

---
<img width="1296" height="740" alt="image" src="https://github.com/user-attachments/assets/b7038103-ae09-4106-bfce-041e3d34bcd0" />

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

* **ì¶œê²° ê´€ë¦¬**

- **í•™ìƒ ì¶œì„ ë“±ë¡**
    - í•™ìƒë³„ ì¶œì„ ì—¬ë¶€(ì¶œì„, í‡´ê·¼)
    - í˜„ì¬ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ ìë™ ì²˜ë¦¬
- **ì¶œì„ ê·¸ë˜í”„ ì¡°íšŒ**
    - ì¼ìë³„/í•™ìƒë³„ ì¶œì„ì‹œê°„ì„ ê·¸ë˜í”„ë¡œ ì¶œë ¥
- **ì¶œì„ì™• ì¡°íšŒ**
    - ì¼ìë³„ ê°€ì¥ ì¶œê·¼ ì‹œê°„ì´ ë¹ ë¥¸ í•™ìƒ ì¡°íšŒ

* JPA + Oracle DB ê¸°ë°˜ Entity ê´€ë¦¬
* JSP, Servlet ê¸°ë°˜ MVC êµ¬ì¡°
* Oracle ì‹œí€€ìŠ¤ ë° íŠ¸ë¦¬ê±°ë¥¼ í†µí•œ ìë™ ID ê´€ë¦¬

---

## ğŸ› ï¸ ì‚¬ìš© ê¸°ìˆ 

<p align="center"> <img src="https://img.shields.io/badge/Java-17-007396?logo=OpenJDK&logoColor=white&style=for-the-badge" alt="Java 17"/> <img src="https://img.shields.io/badge/Jakarta%20Servlet-Tomcat-2496ED?logo=apachetomcat&logoColor=white&style=for-the-badge" alt="Servlet Tomcat"/> <img src="https://img.shields.io/badge/JSP-%23007396?logo=java&logoColor=white&style=for-the-badge" alt="JSP"/> <img src="https://img.shields.io/badge/JPA-Hibernate-59666C?logo=hibernate&logoColor=white&style=for-the-badge" alt="JPA Hibernate"/> <img src="https://img.shields.io/badge/Oracle-Database-F80000?logo=oracle&logoColor=white&style=for-the-badge" alt="Oracle DB"/> <img src="https://img.shields.io/badge/Maven-%23C71A36?logo=apachemaven&logoColor=white&style=for-the-badge" alt="Maven"/> <img src="https://img.shields.io/badge/Lombok-%23007696?logo=java&logoColor=white&style=for-the-badge" alt="Lombok"/> </p>

---

## âš™ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mini-project/
â”œâ”€â”€ pom.xml                          # Maven í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â”œâ”€â”€ controller/          # ì»¨íŠ¸ë¡¤ëŸ¬ ì„œë¸”ë¦¿ í´ë˜ìŠ¤ë“¤
â”‚       â”‚   â”‚   â”œâ”€â”€ Attendance.java
â”‚       â”‚   â”‚   â”œâ”€â”€ BestDriver.java
â”‚       â”‚   â”‚   â”œâ”€â”€ CheckInController.java
â”‚       â”‚   â”‚   â”œâ”€â”€ CheckOutController.java
â”‚       â”‚   â”‚   â”œâ”€â”€ LogoutController.java
â”‚       â”‚   â”‚   â””â”€â”€ UserController.java
â”‚       â”‚   â”œâ”€â”€ model/               # DB ì—°ë™ ê´€ë ¨ í´ë˜ìŠ¤
â”‚       â”‚   â”‚   â”œâ”€â”€ entity/              
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ StudentAttendance.java   # ì¶œì„ Entity (JPA)
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ MemberDAO.java           # DAO í´ë˜ìŠ¤ (ì§ì ‘ DB ì ‘ê·¼)
â”‚       â”‚   â””â”€â”€ util/
â”‚       â”‚       â””â”€â”€ DBUtil.java      # JDBC ì—°ê²° ë„ìš°ë¯¸ í´ë˜ìŠ¤
â”‚       â””â”€â”€ webapp/
â”‚           â”œâ”€â”€ index.html           # ë£¨íŠ¸ ì ‘ì† ì‹œ ì²« í˜ì´ì§€
â”‚           â”œâ”€â”€ resources/           # ì •ì  ë¦¬ì†ŒìŠ¤ íŒŒì¼
â”‚           â”œâ”€â”€ WebContent/          # ì›¹ ë¦¬ì†ŒìŠ¤ ë³´ì¡° ë””ë ‰í† ë¦¬
â”‚           â””â”€â”€ WEB-INF/
â”‚               â””â”€â”€ views/           # JSP ë° HTML View í˜ì´ì§€ë“¤
â”‚                   â”œâ”€â”€ 404.html
â”‚                   â”œâ”€â”€ 500.html
â”‚                   â”œâ”€â”€ attendance.jsp
â”‚                   â”œâ”€â”€ best.jsp
â”‚                   â”œâ”€â”€ dateSelect.jsp
â”‚                   â”œâ”€â”€ fail.jsp
â”‚                   â”œâ”€â”€ loginfail.jsp
â”‚                   â””â”€â”€ usercheckin.jsp
â””â”€â”€ target/                          # Maven ë¹Œë“œ ê²°ê³¼ë¬¼ ì €ì¥ í´ë”
```


---

## ğŸ’¡ ERD

<img width="400" alt="image" src="https://github.com/user-attachments/assets/83d87a49-641a-4574-b4c3-f1ac36983b6c" />


---



## ğŸ©¹ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1ï¸âƒ£ `IdentifierGenerationException: ids for this class must be manually assigned before calling save()`

* **ì›ì¸**: `@Id` ë§Œ ì„¤ì •í•˜ê³  `@GeneratedValue` ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•„ Oracleì—ì„œ íŠ¸ë¦¬ê±°ë¡œ PKë¥¼ ì±„ìš°ëŠ”ë° Hibernateê°€ ìë™ ìƒì„± ì „ëµì„ ì§€ì›í•˜ì§€ ì•Šì•„ ë°œìƒ
* **í•´ê²°**:

  * ì—”í‹°í‹°ì— `@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "...")` + `@SequenceGenerator` ì¶”ê°€
  * Oracle íŠ¸ë¦¬ê±°/ì‹œí€€ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ID ìë™ ì£¼ì…í•˜ë„ë¡ ì„¤ì •

---

### 2ï¸âƒ£ `IllegalArgumentException: IdentityColumnSupportImpl does not support identity key generation`

* **ì›ì¸**: Oracle Dialectì—ì„œ `GenerationType.IDENTITY` ì‚¬ìš© ì‹œ ì§€ì›í•˜ì§€ ì•Šì•„ ë°œìƒ
* **í•´ê²°**: `GenerationType.SEQUENCE` + `@SequenceGenerator` ë¡œ ë³€ê²½

---

### 3ï¸âƒ£ ì¶œê·¼/í‡´ê·¼ ì‹œ `NullPointerException`

* **ì›ì¸**:

  * ì¶œê·¼ ì‹œ `StudentAttendance` ì—”í‹°í‹°ë¥¼ insertí•˜ì§€ ëª»í•´ null ë°˜í™˜
  * JSPì—ì„œ `request.getAttribute("checkintime")` ê°€ null ë¡œ ë‚´ë ¤ì˜´
* **í•´ê²°**:

  * `EntityManager` persist ë¡œ insert ìˆ˜í–‰
  * ì¶œê·¼/í‡´ê·¼ ì‹œ `request.setAttribute` ì™€ `session.setAttribute` êµ¬ë¶„í•˜ì—¬ ê´€ë¦¬
  * JSPì—ì„œ `requestScope.getAttribute()` ë˜ëŠ” `request.getAttribute()` ë¡œ ê°€ì ¸ì˜¤ë„ë¡ í†µì¼

---

### 4ï¸âƒ£ ì‹œí€€ìŠ¤/íŠ¸ë¦¬ê±° ì„¤ì • í›„ì—ë„ ID ê°€ ì•ˆë“¤ì–´ê°

* **ì›ì¸**: Hibernateê°€ IDë¥¼ nullë¡œ íŒë‹¨í•´ insert ì „ì— idê°€ nullì´ ì•„ë‹˜ì„ ë³´ì¥í•´ì•¼ í•¨
* **í•´ê²°**:

  * Oracle íŠ¸ë¦¬ê±°ë¡œ IDê°€ ì£¼ì…ë˜ë„ë¡ DB ì¸¡ ì„¤ì • í™•ì¸
  * Hibernate Dialect í™•ì¸ ë° `hibernate.id.new_generator_mappings=false` ë¡œ ì„¤ì •

---

### 5ï¸âƒ£ JSP ì‹œê°„ í¬ë§· ì§ê´€ì ìœ¼ë¡œ í‘œì‹œí•˜ê¸°

* `DateTimeFormatter.ofPattern("HH:mm")` ì‚¬ìš©í•˜ì—¬ `01:01` í˜•ì‹ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ í‘œì‹œ
* UI ê°œì„ :

  * `flex`, `align-items: center` ë¡œ ì‹œê°„ ë¼ë²¨ê³¼ ê°’ì´ ë‘ ì¤„ë¡œ ë¶„ë¦¬ë˜ì§€ ì•Šë„ë¡ ìˆ˜ì •
  * `time-box` ìŠ¤íƒ€ì¼ ê°œì„ í•˜ì—¬ ê°€ë…ì„± ë° ì‹œì¸ì„± í–¥ìƒ
